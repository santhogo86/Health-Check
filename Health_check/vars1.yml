pod_name: "v4-elink-ucc-uccas-0"
namespace: "lrb-119-uccas"
EID_001_CMD: "/usr/IMS/current/bin/readShm"
EID_002_CMD: "check CMS Service Status"
EID_003_CMD: "service vnfm status"
EID_004_CMD: "awk '{printf "%.0f\n", $1/(60)}' /proc/uptime"
EID_005_CMD: "ps -eo pid,lstart,cmd | grep -ai warm | grep 'IMS' | grep -v 'grep' | sed -e 's/\?/0/g'"
EID_006_CMD: "echo -e 'set screen length 0\nshow table sys platform LogConfig\nexit' | cli"
EID_007_CMD: "df -khP"
EID_008_CMD: "find  /data/storage/corefiles/ /data/storage/vmcores/ /var/log/vcm/crashes/ /var/crash/  -maxdepth 1 -type f -mmin -$COREFILE_THRESHOLD_MIN -exec ls -lrth {} \;"
EID_009_CMD: "echo 'show table sys platform peer_vnf | nomore' | cli"
EID_010_CMD: "service swms status | grep -a Active"
EID_011_CMD: "service garb status | grep -a Active;"
EID_012_CMD: "echo -e 'unhide debug\nsecret\nshow table sys appcommon virtual_service_ip|nomore\nexit'|cli"
EID_013_CMD: "netstat -anpW 2>/dev/null | grep -Ei 'tcp.*/({{ CHECK_13_KAFKA_PROGRAM_NAME }}' | grep -Ev \"{{ CHECK_13_KAFKA_NETSTAT_DEFAULT_FILTER }}\"
EID_014_CMD: "/usr/IMS/current/bin/feDbg rdn-state | grep -aiv \"^Using\""
EID_015_CMD_01: "netstat -nap 2>/dev/null | grep -E \":3868 |sctp|diamMgr\" | grep -E '^tcp|^sctp' | grep -Ev '0.0.0.0:*|127.0.0.1'"
EID_015_CMD_02: "show table sys diam ims_rmt_diam_peer | nomore' | cli"
EID_016_CMD_01: "netstat -anp 2>/dev/null | grep -i 'tcp.*/db' | grep -Ev '127.0.0.1|0.0.0.0|:::*'"
EID_016_CMD_02: "echo 'show table sys dbadapter DBAdapterDBConfig | nomore' | cli"
EID_016_CMD_03: "echo 'show table sys epc_dbadapter epc_db_adapter_config | nomore' | cli"
EID_017_CMD: "netstat -anp 2>/dev/null | grep '^tcp.*confd' | grep -Ev '127.0.0.1|0.0.0.0|:::*';"
EID_018_CMD: "netstat -anp 2>/dev/null | grep -v tcp6 |grep "^tcp" | grep sipMgr | grep -Ev '127.0.0.1|0.0.0.0|:::*'"
EID_019_CMD: "mysql --table -u$VNFM_MYSQL_USER -p$VNFM_MYSQL_PASS VnfmDB  -e \"
select a.Id,Vm_Logical_Group_Id,STATE,STATUS,Unique_VnfdId,VNF_MODE,VM_Name,HEX(recovery_suspended) rs,hex(Is_first_heartbeat_received) hb ,PROGRESS ,Fixed_Ip_address
from VnfmDB.Deployment_Table a
inner join (select DeploymentId , Fixed_Ip_address from VnfmDB.VM_Resource_Details where connectionPointIndex like '%OAM%' group by DeploymentId) b on a.id = b.DeploymentId
where STATE <> 'NULL' and ( STATUS not in ('deployed','recovered') or hex(Is_first_heartbeat_received) <> 1 )
;\""
EID_020_CMD: "echo 'show active-alarms| nomore' |cli;"
EID_021_CMD: "set screen length 0\nshow table sys appcommon ss7Node\nexit' | cli"
EID_022_CMD_01: "echo -e 'set screen length 0\nshow table sys uag asbcSettings autoCsfbActive\nexit' | cli"
EID_022_CMD_02: "echo -e 'set screen length 0\nshow table sys tas MmtelOfficeParams autoCSFallBack\nexit' | cli"
EID_023_CMD_01: "/usr/local/bin/fpstats | grep "IpReasmFails:" |grep -Ev \"IpReasmFails:$\";"
EID_023_CMD_02: "sleep 10"
EID_023_CMD_03: "/usr/local/bin/fpstats | grep "IpReasmFails:" |grep -Ev \"IpReasmFails:$\";"
EID_024_CMD: "/usr/IMS/current/bin/readShm -o | grep -av 'Ovld Level:0' | grep -aic 'Ovld Level'"
EID_025_CMD: "arp -n | grep inc "
EID_026_CMD_01: "systemctl status ntpd"
EID_026_CMD_02: "timedatectl"
EID_026_CMD_03: "ntpstat"
EID_026_CMD_04: "ntpq -p"
EID_026_CMD_05: "systemctl status chronyd"
EID_026_CMD_06: "chronyc tracking"
EID_026_CMD_07: "chronyc sources"
EID_026_CMD_08: "chronyc sourcestats"
EID_027_CMD: "/usr/local/bin/fp-cpu-usage;"
EID_028_CMD: "/usr/IMS/current/bin/feDbg connStats;"
EID_029_CMD_01: "/opt/couchbase/bin/couchbase-cli server-list -c 127.0.0.1:8091 -u sysadmin -p 'Crd!@Mav123';"
EID_029_CMD_02: curl -s -u 'opsuser':'Crd!@Mav123' http://127.0.0.1:8091/pools/default;
EID_030_CMD_01: "ip r | grep -E "$FE_IP_PING_INTERFACE" | grep  'scope.*link.*src' | head -n 1 | awk '{print $NF}'"
EID_030_CMD_02: "ping -I $s_ip $d_ip -c $FE_IP_PING_INTERFACE_COUNT -s $FE_IP_PING_INTERFACE_MTU -i 0.1"

EID_031_CMD: "find /data/storage/log/ -name 'IMS*.log*' -type f -newermt "$start_time" ! -newermt "$end_time" -exec zgrep -Eaio "CHECK_31_SM_ERROR_INPUT" {} \"
EID_032_CMD: "find /data/storage/log/ -name 'IMS*.log*' -type f -newermt "$start_time" ! -newermt "$end_time" -exec zgrep -Eaio "CHECK_32_DB_TIMEOUT_QUEUE_FAIL_INPUT" {} \"
EID_033_CMD: "find /data/storage/log/ -name 'IMS*.log*' -type f -newermt "$start_time" ! -newermt "$end_time" -exec zgrep -Eaio "CHECK_33_SSF_TIMEOUT_ERROR_INPUT" {} \"
EID_034_CMD: "find /data/storage/log/ -name 'IMS*.log*' -type f -newermt "$start_time" ! -newermt "$end_time" -exec zgrep -Eaio "CHECK_34_SS7_ERROR_INPUT" {} \"
EID_035_CMD: "find /data/storage/log/ -name 'IMS*.log*' -type f -newermt "$start_time" ! -newermt "$end_time" -exec zgrep -Eaio "CHECK_35_DIAM_ERROR_AND_TIMEOUT_INPUT" {} \"
EID_036_CMD: "find /data/storage/log/ -name 'IMS*.log*' -type f -newermt "$start_time" ! -newermt "$end_time" -exec zgrep -Eaio "CHECK_36_PCRF_ERROR_INPUT" {} \"
EID_037_CMD: "find /data/storage/log/ -name 'IMS*.log*' -type f -newermt "$start_time" ! -newermt "$end_time" -exec zgrep -Eaio "CHECK_37_BDM_ERROR_INPUT" {} \"
EID_038_CMD: "find /data/storage/log/ -name 'IMS*.log*' -type f -newermt "$start_time" ! -newermt "$end_time" -exec zgrep -Eaio "CHECK_38_MEDIA_ERROR_SCVNF_IMS_LOG_INPUT" {} \"
EID_039_CMD: "find /data/storage/log/ -name 'IMS*.log*' -type f -newermt "$start_time" ! -newermt "$end_time" -exec zgrep -Eaio "CHECK_39_TRANSCODING_ERR_INPUT" {} \"
EID_040_CMD: "find /data/storage/log/ -name 'IMS*.log*' -type f -newermt "$start_time" ! -newermt "$end_time" -exec zgrep -Eaio "CHECK_40_QUEUE_FULL_INPUT" {} \"
EID_041_CMD: "find /data/storage/log/ -name 'IMS*.log*' -type f -newermt "$start_time" ! -newermt "$end_time" -exec zgrep -Eaio "CHECK_41_BLACKLIST_INPUT" {} \"
EID_042_CMD: "echo -e 'system-stats' | /usr/IMS/current/bin/scDebug "
EID_043_CMD_01: "free -m"
EID_043_CMD_02: "awk 'BEGIN{t=0;} ($1 == "rss" || $1 == "rss_huge") {t += $2 } END{print t}'  /sys/fs/cgroup/memory$(awk -F":" '$2=="memory"{print $3}' /proc/self/cgroup)/memory.stat 2>/dev/null || awk 'BEGIN{t=0;} ($1 == "rss" || $1 == "rss_huge") {t += $2 } END{print t}' /sys/fs/cgroup/memory/memory.stat"
EID_043_CMD_03: "awk '{print $1}' /sys/fs/cgroup/memory$(awk -F":" '$2=="memory"{print $3}' /proc/self/cgroup)/memory.limit_in_bytes 2>/dev/null || cat /sys/fs/cgroup/memory/memory.limit_in_bytes"
EID_044_CMD_01: "$SUDO /usr/IMS/current/bin/feDbg vnfstats | grep -v \" 0 .* 0 .* 0 .* 0 .* 0 .* 0 \" | grep -E \"SCTP|TCP|UDP|UUID\""
EID_044_CMD_02: "sleep 5"
EID_044_CMD_03: "$SUDO /usr/IMS/current/bin/feDbg vnfstats | grep -v \" 0 .* 0 .* 0 .* 0 .* 0 .* 0 \" | grep -E \"SCTP|TCP|UDP|UUID\""
EID_045_CMD: "service mco status-cluster;exit"
EID_046_CMD_01: "grep -i '^AdminStatus=.*' /opt/dbsnmpagent/crdlMon_1.cfg | head -n 1"
EID_046_CMD_02: "for fl in \$(ls -ltr /etc/init.d/crdlMon_*[0-9] | awk '{print \$NF}') ; do \$fl status ; done "


EID_001_DESCRIPTION: "Check ReadShm command output"
EID_002_DESCRIPTION: "service cms status"
EID_003_DESCRIPTION: "check vnfm service status"
EID_004_DESCRIPTION: "Checks system uptime"
EID_005_DESCRIPTION: "Check Warm Process in system"
EID_006_DESCRIPTION: "Check Log Level in config"
EID_007_DESCRIPTION: "Check system Disk Space"
EID_008_DESCRIPTION: "check core file generated in system"
EID_009_DESCRIPTION: "check Peer IP / VNF"
EID_010_DESCRIPTION: "MRF service status"
EID_011_DESCRIPTION: "Check garb Service Status"
EID_012_DESCRIPTION: "Virtual IP Status"
EID_013_DESCRIPTION: "To check Kafka Links"
EID_014_DESCRIPTION: "Check Active and Standby VFE pair and sync state"
EID_015_DESCRIPTION: "Check Diam Links"
EID_016_DESCRIPTION: "DB Link Status"
EID_017_DESCRIPTION: "Confd Link Status"
EID_018_DESCRIPTION: "Check SipMgr Link Status"
EID_019_DESCRIPTION: "Check VNF First Heartbeat"
EID_020_DESCRIPTION: "Get VNF Active alarms list"
EID_021_DESCRIPTION: "SS7 Status"
EID_022_DESCRIPTION: "Check CSFB Status"
EID_023_DESCRIPTION: "Check IPReasem Fail Status"
EID_024_DESCRIPTION: "Check Olvd Error status"
EID_025_DESCRIPTION: "Check ARP Incomplete status"
EID_026_DESCRIPTION: "Check ntp status"
EID_027_DESCRIPTION: "Check FP CPU Usage value"
EID_028_DESCRIPTION: "Check feDbg connection status"
EID_029_DESCRIPTION: "Check CRDL status"
EID_030_DESCRIPTION: "Check FE IP Ping Interface Status"
EID_031_DESCRIPTION: "IMS Log scan check"
EID_032_DESCRIPTION: "IMS Log scan check"
EID_033_DESCRIPTION: "IMS Log scan check"
EID_034_DESCRIPTION: "IMS Log scan check"
EID_035_DESCRIPTION: "IMS Log scan check"
EID_036_DESCRIPTION: "IMS Log scan check"
EID_037_DESCRIPTION: "IMS Log scan check"
EID_038_DESCRIPTION: "IMS Log scan check"
EID_039_DESCRIPTION: "IMS Log scan check"
EID_040_DESCRIPTION: "IMS Log scan check"
EID_041_DESCRIPTION: "IMS Log scan check"
EID_042_DESCRIPTION: "Check Media Sites Status"
EID_043_DESCRIPTION: "System CPU and memory check"
EID_044_DESCRIPTION: "Checks if traffic is equally distributed by LB"
EID_045_DESCRIPTION: "Check IPSM MCO Service Status"
EID_046_DESCRIPTION: "Check crdl Mon Service Status"



CHECK_13_KAFKA_PROGRAM_NAME="kafkaProducer"
CHECK_13_KAFKA_NETSTAT_DEFAULT_FILTER="127.0.0.1|0.0.0.0|:::*"
CHECK_31_SM_ERROR_INPUT='No emx IP was configured|AsyncNext failed'
export CHECK_31_SM_ERROR_THRESHOLD=0
export CHECK_32_DB_TIMEOUT_QUEUE_FAIL_INPUT='routing failed causeCode:3301|routing failed causeCode:3307|routing failed causeCode:3300'
export CHECK_32_DB_TIMEOUT_QUEUE_FAIL_THRESHOLD=0
CHECK_33_SSF_TIMEOUT_ERROR_INPUT='TimerSSF timeouts'        
CHECK_34_SS7_ERROR_INPUT='No accessible ss7Node found in GTT'       
CHECK_35_DIAM_ERROR_AND_TIMEOUT_INPUT='PMQ full|Resp Error .*3099'      
CHECK_36_PCRF_ERROR_INPUT='error rsp from pcrf or timeout'      
CHECK_37_BDM_ERROR_INPUT='handleTaskComplete: Critical resource failed'     
CHECK_38_MEDIA_ERROR_SCVNF_IMS_LOG_INPUT='Error from media plane'       
CHECK_39_TRANSCODING_ERR_INPUT='Create Session failed'      
CHECK_40_QUEUE_FULL_INPUT='queue is full'       
CHECK_41_BLACKLIST_INPUT='IP Address.*is in the list'
